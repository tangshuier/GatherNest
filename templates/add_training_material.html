{% extends 'base.html' %}

{% block title %}æ·»åŠ åŸ¹è®­èµ„æ–™ - ç®¡ç†å‘˜é¢æ¿{% endblock %}
{% block page_title %}æ·»åŠ åŸ¹è®­èµ„æ–™{% endblock %}

{% block content %}
<div class="container mt-6">
    <div class="card shadow-lg p-6 mb-6 bg-white rounded border border-gray-100">
        <h2 class="text-primary mb-6">æ·»åŠ åŸ¹è®­èµ„æ–™</h2>
        
        <form action="{{ url_for('training.add_training_material') }}" method="post" enctype="multipart/form-data">
            <!-- ç±»åˆ«é€‰æ‹© -->
            <div class="form-group mb-5">
                <label for="category" class="form-label font-weight-medium text-gray-700 mb-2">åŸ¹è®­ç±»åˆ« <span class="text-danger">*</span></label>
                <select class="form-control form-control-lg border-gray-300 rounded-md transition-all duration-200 hover:border-primary focus:border-primary focus:ring-2 focus:ring-primary/20" id="category" name="category" required>
                    <option value="" disabled selected>è¯·ä»ä»¥ä¸‹é€‰é¡¹ä¸­é€‰æ‹©åŸ¹è®­ç±»åˆ«</option>
                    {% for category in categories %}
                        <option value="{{ category }}">{{ category }}</option>
                    {% endfor %}
                </select>
                <small class="form-text text-gray-500 mt-1">é€‰æ‹©æœ€é€‚åˆè¯¥åŸ¹è®­èµ„æ–™çš„åˆ†ç±»</small>
            </div>
            
            <!-- æ ‡é¢˜ -->
            <div class="form-group mb-5">
                <label for="title" class="form-label font-weight-medium text-gray-700 mb-2">èµ„æ–™æ ‡é¢˜ <span class="text-danger">*</span></label>
                <input type="text" class="form-control form-control-lg border-gray-300 rounded-md transition-all duration-200 hover:border-primary focus:border-primary focus:ring-2 focus:ring-primary/20" id="title" name="title" required placeholder="è¾“å…¥èµ„æ–™æ ‡é¢˜">
                <small class="form-text text-gray-500 mt-1">è¯·è¾“å…¥æ˜ç¡®çš„èµ„æ–™æ ‡é¢˜ï¼Œä¾¿äºå­¦å‘˜è¯†åˆ«</small>
            </div>
            
            <!-- æè¿° -->
            <div class="form-group mb-5">
                <label for="description" class="form-label font-weight-medium text-gray-700 mb-2">èµ„æ–™æè¿°</label>
                <textarea class="form-control form-control-lg border-gray-300 rounded-md transition-all duration-200 hover:border-primary focus:border-primary focus:ring-2 focus:ring-primary/20" id="description" name="description" rows="4" placeholder="è¾“å…¥èµ„æ–™æè¿°"></textarea>
                <small class="form-text text-gray-500 mt-1">ç®€è¦æè¿°è¯¥åŸ¹è®­èµ„æ–™çš„å†…å®¹å’Œç”¨é€”</small>
            </div>
            
            <!-- æ–‡ä»¶ç±»å‹ -->
            <div class="form-group mb-5">
                <label for="file_type" class="form-label font-weight-medium text-gray-700 mb-2">æ–‡ä»¶ç±»å‹ <span class="text-danger">*</span></label>
                <select class="form-control form-control-lg border-gray-300 rounded-md transition-all duration-200 hover:border-primary focus:border-primary focus:ring-2 focus:ring-primary/20" id="file_type" name="file_type" required>
                    <option value="" disabled selected>è¯·é€‰æ‹©æ–‡ä»¶ç±»å‹</option>
                    <option value="pdf">ğŸ“„ PDFæ–‡æ¡£</option>
                    <option value="docx">ğŸ“ Wordæ–‡æ¡£</option>
                    <option value="xlsx">ğŸ“Š Excelè¡¨æ ¼</option>
                    <option value="pptx">ğŸï¸ PowerPointæ¼”ç¤ºæ–‡ç¨¿</option>
                    <option value="mp4">ğŸ¬ MP4è§†é¢‘</option>
                    <option value="avi">ğŸ¬ AVIè§†é¢‘</option>
                    <option value="mov">ğŸ¬ MOVè§†é¢‘</option>
                    <option value="wmv">ğŸ¬ WMVè§†é¢‘</option>
                    <option value="txt">ğŸ“„ æ–‡æœ¬æ–‡ä»¶</option>
                    <option value="md">ğŸ“ Markdownæ–‡ä»¶</option>
                    <option value="other">ğŸ“ å…¶ä»–ç±»å‹</option>
                </select>
                <small class="form-text text-gray-500 mt-1">è¯·é€‰æ‹©æ‚¨è¦ä¸Šä¼ çš„æ–‡ä»¶æ ¼å¼</small>
            </div>
            
            <!-- æ˜¯å¦å¿…å­¦ -->
            <div class="form-group mb-5">
                <div class="form-check p-3 bg-gray-50 rounded-md border border-gray-200 transition-all duration-200 hover:bg-gray-100">
                    <input class="form-check-input h-5 w-5 text-primary rounded transition-transform duration-200 hover:scale-110 focus:ring-primary/30" type="checkbox" id="is_required" name="is_required">
                    <label class="form-check-label text-gray-700 ml-2 font-medium cursor-pointer" for="is_required">
                        å¿…å­¦èµ„æ–™
                    </label>
                    <small class="form-text text-gray-500 block mt-1 ml-7">æ ‡è®°ä¸ºå¿…å­¦èµ„æ–™çš„å†…å®¹ï¼Œæ‰€æœ‰ç›¸å…³å­¦å‘˜éƒ½éœ€è¦å®Œæˆå­¦ä¹ </small>
                </div>
            </div>
            
            <!-- æ˜¾ç¤ºé¡ºåº -->
            <div class="form-group mb-5">
                <label for="display_order" class="form-label font-weight-medium text-gray-700 mb-2">æ˜¾ç¤ºé¡ºåº</label>
                <input type="number" class="form-control form-control-lg border-gray-300 rounded-md transition-all duration-200 hover:border-primary focus:border-primary focus:ring-2 focus:ring-primary/20" id="display_order" name="display_order" value="0" min="0">
                <small class="form-text text-gray-500 mt-1">æ•°å€¼è¶Šå°ï¼Œè¯¥èµ„æ–™åœ¨åˆ—è¡¨ä¸­æ˜¾ç¤ºçš„ä½ç½®è¶Šé å‰</small>
            </div>
            
            <!-- æ–‡ä»¶ä¸Šä¼  -->
            <div class="form-group mb-6">
                <label for="file" class="form-label font-weight-medium text-gray-700 mb-2">ä¸Šä¼ æ–‡ä»¶</label>
                <div class="p-4 border-2 border-dashed border-gray-300 rounded-lg transition-all duration-200 hover:border-primary hover:bg-primary/5">
                    <input type="file" class="form-control-file" id="file" name="file">
                    <small class="form-text text-gray-500 mt-2">æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼šPDF, Word, Excel, PowerPoint, MP4, AVI, MOV, WMV, Markdownç­‰</small>
                </div>
            </div>
            
            <!-- æ“ä½œæŒ‰é’® -->
            <div class="form-group d-flex justify-content-center gap-4">
                <button type="submit" class="btn btn-primary btn-lg px-6 py-2 transition-all duration-200 hover:bg-primary/90 hover:shadow-lg transform hover:-translate-y-0.5">
                    <i class="fas fa-save mr-2"></i> ä¿å­˜
                </button>
                <a href="{{ url_for('training.training_materials_manage') }}" class="btn btn-secondary btn-lg px-6 py-2 transition-all duration-200 hover:bg-secondary/90 hover:shadow-lg transform hover:-translate-y-0.5">
                    <i class="fas fa-arrow-left mr-2"></i> è¿”å›
                </a>
            </div>
        </form>
    </div>
</div>

<style>
    .form-group {
        margin-bottom: 1.8rem;
    }
    
    .form-control {
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        border-width: 1px;
    }
    
    .form-control:focus {
        box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25);
    }
    
    .form-label {
        display: block;
        margin-bottom: 0.5rem;
    }
    
    .text-danger {
        color: #dc3545;
    }
    
    .font-weight-medium {
        font-weight: 500;
    }
    
    .border-gray-100 {
        border-color: #f3f4f6;
    }
    
    .border-gray-200 {
        border-color: #e5e7eb;
    }
    
    .border-gray-300 {
        border-color: #d1d5db;
    }
    
    .text-gray-500 {
        color: #6b7280;
    }
    
    .text-gray-700 {
        color: #374151;
    }
    
    .bg-gray-50 {
        background-color: #f9fafb;
    }
    
    .bg-gray-100 {
        background-color: #f3f4f6;
    }
    
    .hover\:bg-primary\/5:hover {
        background-color: rgba(0, 123, 255, 0.05);
    }
    
    .hover\:bg-primary\/90:hover {
        background-color: rgba(0, 123, 255, 0.9);
    }
    
    .hover\:bg-secondary\/90:hover {
        background-color: rgba(108, 117, 125, 0.9);
    }
    
    .focus\:ring-primary\/20:focus {
        box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.2);
    }
    
    .focus\:ring-primary\/30:focus {
        box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.3);
    }
    
    .hover\:shadow-lg:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    .transition-all {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
    }
    
    .transition-transform {
        transition-property: transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 150ms;
    }
    
    .duration-200 {
        transition-duration: 200ms;
    }
    
    .hover\:-translate-y-0\.5:hover {
        transform: translateY(-0.125rem);
    }
    
    .hover\:scale-110:hover {
        transform: scale(1.1);
    }
    
    .p-3 {
        padding: 0.75rem;
    }
    
    .p-4 {
        padding: 1rem;
    }
    
    .p-6 {
        padding: 1.5rem;
    }
    
    .mt-1 {
        margin-top: 0.25rem;
    }
    
    .mt-2 {
        margin-top: 0.5rem;
    }
    
    .mt-6 {
        margin-top: 1.5rem;
    }
    
    .mb-2 {
        margin-bottom: 0.5rem;
    }
    
    .mb-4 {
        margin-bottom: 1rem;
    }
    
    .mb-5 {
        margin-bottom: 1.25rem;
    }
    
    .mb-6 {
        margin-bottom: 1.5rem;
    }
    
    .ml-2 {
        margin-left: 0.5rem;
    }
    
    .ml-7 {
        margin-left: 1.75rem;
    }
    
    .d-flex {
        display: flex;
    }
    
    .justify-content-center {
        justify-content: center;
    }
    
    .gap-4 {
        gap: 1rem;
    }
    
    .cursor-pointer {
        cursor: pointer;
    }
    
    .block {
        display: block;
    }
    
    .w-5 {
        width: 1.25rem;
    }
    
    .h-5 {
        height: 1.25rem;
    }
    
    .mr-2 {
        margin-right: 0.5rem;
    }
    
    .px-6 {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
    
    .py-2 {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
    }
</style>
{% endblock %}